define(["app","custom-select","disabled-when-click"],function(e){e.controller("setting_answer",["$scope","$window",function(e,t){function a(e){var t=e.lastIndexOf("/");return e.substring(t+1)}e.Model={},e.formPath="",e.forms=[],e.getFormList=function(t){return e._request("FormList",null,t).then(function(t){angular.forEach(t.Data,function(t){e.forms.push({text:a(t),value:t})})})},e.getRows=function(e){var t=[];if(e)for(var a in e)t.push(t.length);else t=[0];return t},e.loadForm=function(t,a){return e._request("FormData",{TemplateName:e.formName},a).then(function(t){t.Data&&(e.Model=JSON.parse(t.Data.TemplateData),e.templateDesc=t.Data.TemplateDesc),e.formPath=e.formName})},e.save=function(){return e._request("SaveAnswer",{TemplateName:e.formName,TemplateDesc:e.templateDesc,TemplateData:JSON.stringify(e.Model)}).then(function(e){t.alert("保存成功")})},e.getFormList(!0)}])});