"use strict";define(["app"],function(e){e.directive("teamSelect",["$timeout",function(e){return{restrict:"E",templateUrl:"js/directive/team-select/template.html",require:["?ngModel"],scope:{selectedValue:"=ngModel",source:"="},link:function(e,t,c,l){function u(t){for(var c=0,l=e.source.length;l>c;c++)if(e.source[c].value===t)return e.source[c];return null}e.selectedText="",e.hasNoSelected=function(){for(var t=0,c=e.source.length;c>t;t++)if(!e.source[t].selected)return!0;return!1};var r={text:"请选择组",value:-1};if(e.source&&(e.source.length>0&&e.source[0].value!==r.value&&e.source.splice(0,0,r),angular.forEach(e.source,function(e){e.selected=!1})),e.selectedValue){var s=u(e.selectedValue);s&&(e.selectedText=s.text)}else e.selectedText=r.text,e.selectedValue=r.value;e.$watch(function(){return e.selectedValue},function(t,c){if(t!==c){var l=u(t);l&&(e.selectedText=l.text,l.value!==r.value&&(l.selected=!0));var s=u(c);s&&(s.selected=!1)}})}}}])});