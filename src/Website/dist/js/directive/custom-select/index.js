"use strict";define(["app"],function(e){e.directive("customSelect",["$timeout","$parse",function(e,t){return{restrict:"E",templateUrl:"js/directive/custom-select/template.html",require:["?ngModel"],scope:{selectedValue:"=ngModel",source:"="},link:function(e,c,l,u){function r(t){for(var c=0,l=e.source.length;l>c;c++)if(e.source[c].value===t)return e.source[c];return null}e.selectedText="";var n={text:"--请选择--",value:-1};if(e.source&&(e.source.length>0&&e.source[0].value!==n.value&&e.source.splice(0,0,n),angular.forEach(e.source,function(e){e.selected=!1})),e.selectedValue){var s=r(e.selectedValue);s&&(e.selectedText=s.text)}else e.selectedText=n.text,e.selectedValue=n.value;var a=t(l.onchange);e.$watch(function(){return e.selectedValue},function(t,c){if(t!==c){var l=r(t);l&&(e.selectedText=l.text),a(e.$parent,{$event:{newValue:t,oldValue:c}})}})}}}])});